<Window
    x:Class="SnapIt.Views.DesignWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:prism="http://prismlibrary.com/"
    xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:Controls="clr-namespace:SnapIt.Library.Controls;assembly=SnapIt.Library"
    xmlns:design="clr-namespace:SnapIt.ViewModels.DesignTime"
    x:Name="DesignWindowView"
    Title="Snap It - Layout Designer"
    Width="480"
    Height="360"
    d:DataContext="{d:DesignInstance design:DesignWindowDesignView,
                                     IsDesignTimeCreatable=True}"
    prism:ViewModelLocator.AutoWireViewModel="True"
    AllowsTransparency="True"
    Background="Transparent"
    ResizeMode="NoResize"
    ShowInTaskbar="False"
    TextElement.FontSize="14"
    Topmost="True"
    WindowState="Normal"
    WindowStyle="None"
    mc:Ignorable="d">
    <i:Interaction.Triggers>
        <i:EventTrigger EventName="Loaded">
            <i:InvokeCommandAction Command="{Binding LoadedCommand}" />
        </i:EventTrigger>
    </i:Interaction.Triggers>

    <Grid>
        <Controls:SnapControl
            x:Name="SnapControl"
            IsDesignMode="True"
            Layout="{Binding Layout}"
            Theme="{Binding Theme, Mode=TwoWay}" />

        <materialDesign:Card
            Margin="0,20,20,0"
            HorizontalAlignment="Right"
            VerticalAlignment="Top"
            Background="{DynamicResource MaterialDesignPaper}"
            Foreground="{DynamicResource PrimaryHueDarkForegroundBrush}">
            <Expander
                HorizontalAlignment="Stretch"
                Header="Settings"
                IsExpanded="True">
                <StackPanel Margin="24,8,24,16">
                    <TextBlock Margin="0,0,0,6">
                        Designer Opacity
                    </TextBlock>
                    <Slider
                        Width="150"
                        Height="20"
                        HorizontalAlignment="Left"
                        Maximum="1"
                        Minimum="0"
                        TickFrequency="0.1"
                        Value="{Binding Theme.Opacity}" />
                    <Separator Style="{StaticResource MaterialDesignLightSeparator}" />
                    <TextBlock Margin="0,0,0,6">
                        Layout Name
                    </TextBlock>
                    <TextBox
                        Width="128"
                        Margin="0,0,0,16"
                        HorizontalAlignment="Left"
                        Text="{Binding Layout.Name}" />
                    <Button
                        Padding="6,4"
                        HorizontalAlignment="Left"
                        Command="{Binding AddOverlayLayoutCommand}"
                        Style="{StaticResource MaterialDesignIconForegroundButton2}">
                        <Button.Content>
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon Kind="LayersOutline" />
                                <TextBlock
                                    Margin="8,0,0,0"
                                    VerticalAlignment="Center"
                                    Text="Add Overlay" />
                            </StackPanel>
                        </Button.Content>
                    </Button>
                    <Button
                        Padding="6,4"
                        HorizontalAlignment="Left"
                        Command="{Binding ClearLayoutCommand}"
                        Style="{StaticResource MaterialDesignIconForegroundButton2}">
                        <Button.Content>
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon Kind="Refresh" />
                                <TextBlock
                                    Margin="8,0,0,0"
                                    VerticalAlignment="Center"
                                    Text="Clear Layout" />
                            </StackPanel>
                        </Button.Content>
                    </Button>
                    <Separator Style="{StaticResource MaterialDesignLightSeparator}" />
                    <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
                        <Button
                            Margin="0,0,3,0"
                            Padding="6,4"
                            HorizontalAlignment="Right"
                            Command="{Binding SaveLayoutCommand}"
                            Style="{StaticResource MaterialDesignIconForegroundButton2}">
                            <Button.Content>
                                <StackPanel Orientation="Horizontal">
                                    <materialDesign:PackIcon Kind="ContentSaveOutline" />
                                    <TextBlock
                                        Margin="8,0,0,0"
                                        VerticalAlignment="Center"
                                        Text="Save" />
                                </StackPanel>
                            </Button.Content>
                        </Button>
                        <Button
                            Margin="3,0,0,0"
                            Padding="6,4"
                            Command="{Binding CloseLayoutCommand}"
                            Style="{StaticResource MaterialDesignIconForegroundButton2}">
                            <Button.Content>
                                <StackPanel Orientation="Horizontal">
                                    <materialDesign:PackIcon Kind="Close" />
                                    <TextBlock
                                        Margin="8,0,0,0"
                                        VerticalAlignment="Center"
                                        Text="Close" />
                                </StackPanel>
                            </Button.Content>
                        </Button>
                    </StackPanel>
                </StackPanel>
            </Expander>
        </materialDesign:Card>
    </Grid>
</Window>